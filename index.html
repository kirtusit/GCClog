<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Таможенные брокеры — Деловой сайт</title>
  <meta name="description" content="Таможенное оформление для B2B: декларирование, классификация, сопровождение и контроль сроков." />
  <meta name="theme-color" content="#0b0d0f" />
  <style>
    /* ===== Minimal / Luxe Tokens ===== */
    :root {
      --bg: #0b0d0f;        /* rich black */
      --text: #e6e8ea;      /* silver */
      --muted: #9aa0a6;     /* graphite */
      --line: #161a1f;      /* subtle keyline */
      --accent: #bfa36a;    /* muted gold */
      --radius: 12px;
    }

    * { box-sizing: border-box; }
    html, body {
      margin: 0;
      color: var(--text);
      background: var(--bg);
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Inter, "Noto Sans", Arial, sans-serif;
      line-height: 1.5;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      letter-spacing: 0.01em;
      /* sticky footer */
      min-height: 100dvh;
      display: flex;
      flex-direction: column;
    }

    .container { max-width: clamp(960px, 84vw, 1280px); margin: 0 auto; padding: 0 clamp(16px, 4vw, 40px); }
    a { color: inherit; text-decoration: none; }
    img { display: block; max-width: 100%; height: auto; }
    button { font: inherit; }

    /* ===== Top area (no header/nav) ===== */
    main.top { flex: 1 0 auto; padding-top: clamp(16px, 5vh, 72px); }
    .top { padding-top: min(8vh, 72px); }
    .logo-shelf { display: flex; align-items: center; justify-content: space-between; padding-bottom: 32px; gap: 12px; }
    .logo-box {
      display: grid; place-items: center;
      width: auto; height: auto; padding: 0;
      border: 0; border-radius: 0; background: transparent;
      color: inherit;
    }
    .logo-box img{ height: clamp(36px, 6vw, 88px); width: auto; object-fit: contain; image-rendering: auto; }

    /* Lang switch */
    .lang-switch { display: inline-flex; gap: 8px; align-items: center; }
    .lang-switch button {
      padding: clamp(6px, .8vw, 10px) clamp(10px, 1.2vw, 14px);
      border-radius: 999px; border: 1px solid var(--line); background: transparent; color: var(--muted);
      text-transform: uppercase; font-size: clamp(10px, 1.1vw, 11px); letter-spacing: .12em; cursor: pointer;
      transition: background .15s ease, color .15s ease, transform .15s ease;
    }
    .lang-switch button:hover { background: #111418; color: var(--text); transform: translateY(-1px); }
    .lang-switch button[aria-pressed="true"] { border-color: var(--accent); color: var(--text); }

    /* ===== Hero (minimal) ===== */
    .hero { 
      padding: clamp(24px, 6vh, 120px) 0; 
      min-height: clamp(44vh, 56vh, 68vh);
      display: flex; flex-direction: column; justify-content: center; align-items: center;
      text-align: center;
    }
    .eyebrow { display: inline-block; font-size: 12px; letter-spacing: .16em; text-transform: uppercase; color: var(--muted); }
    h1 { margin: 12px 0 10px; line-height: 1.1; font-weight: 700; font-size: clamp(34px, 6vw, 64px); letter-spacing: -0.01em; }
    .lead { color: var(--muted); font-size: clamp(16px, 2.2vw, 22px); max-width: 72ch; margin: 0 auto; }

    /* ===== Typing line under H1 ===== */
    .typing{ color: var(--muted); font-size: clamp(14px, 1.8vw, 18px); letter-spacing: .02em; min-height: 1.2em; margin-top: 6px; }
    .typing #typingText{ transition: opacity 400ms ease; }
    .typing .caret{ display:inline-block; width:1px; height:1.15em; background: currentColor; margin-left:6px; opacity:.6; animation: caret-blink 1200ms steps(1,end) infinite; vertical-align:-2px; }
    .typing.done .caret{ opacity:0; animation:none; }
    @keyframes caret-blink{ 0%,60%{opacity:.6;} 61%,100%{opacity:0;} }

    /* extra styling for second typing line */
    .typing.secondary{ font-size: clamp(13px, 1.6vw, 16px); opacity: .95; margin-top: 6px; }

    /* ===== Contact section ===== */
    .contact { padding: clamp(12px, 3.2vh, 36px) 0 clamp(18px, 4vh, 48px); border-top: none; }
    .contact-grid {
      display: grid;
      grid-template-columns: repeat(2, minmax(260px, 360px));
      gap: clamp(14px, 2vw, 24px);
      margin: clamp(12px, 2vh, 20px) auto 0;
      place-content: center;
      place-items: center;
    }
    @media (max-width: 840px){ .contact-grid { grid-template-columns: 1fr; justify-items: stretch; } }
    .contact-card {
      width: 100%;
      display: flex; align-items: center; justify-content: space-between; gap: clamp(12px, 2vw, 24px);
      padding: clamp(14px, 1.8vw, 20px);
      min-height: 72px;
      border: 1px solid var(--line); border-radius: 16px;
      background: linear-gradient(180deg, rgba(17,20,24,.6), rgba(17,20,24,.42));
      transition: transform .12s ease, box-shadow .2s ease, background .2s ease, border-color .2s ease;
      box-shadow: 0 1px 0 rgba(255,255,255,.02), 0 4px 14px rgba(0,0,0,.25);
      cursor: pointer;
      text-align: left;
    }
    .contact-card:hover, .contact-card:focus-visible { background: #111418; border-color: color-mix(in srgb, var(--accent) 30%, var(--line) 70%); transform: translateY(-1px); box-shadow: 0 2px 0 rgba(255,255,255,.02), 0 10px 26px rgba(0,0,0,.35); outline: none; }
    .contact-card:active { transform: translateY(0); box-shadow: 0 1px 0 rgba(255,255,255,.02), 0 6px 18px rgba(0,0,0,.3); }
    .svg-ph-sm { width: clamp(22px, 2.6vw, 30px); height: clamp(22px, 2.6vw, 30px); border-radius: 8px; background: linear-gradient(45deg, rgba(191,163,106,.4), rgba(191,163,106,.16)); box-shadow: inset 0 0 0 1px rgba(191,163,106,.5); display: none; }
    .contact-text { display: none; } /* больше не используем */
    .contact-label { font-size: clamp(14px, 1.6vw, 18px); }
    .contact-meta { font-size: clamp(12px, 1.4vw, 14px); color: var(--muted); white-space: nowrap; }
    .row-left { display: inline-flex; align-items: center; gap: 8px; }
    .row-right { display: inline-flex; align-items: center; gap: 6px; margin-left: auto; }
    /* a11y helper */
    .sr-only{ position:absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0; }
    /* Telegram logo */
    .tg-logo{ width: clamp(22px, 2.4vw, 28px); height: clamp(22px, 2.4vw, 28px); display:block; color: var(--text); margin: 0; }
    /* Mail logo */
    .mail-logo{ width: clamp(22px, 2.4vw, 28px); height: clamp(22px, 2.4vw, 28px); display:block; color: var(--text); }

    /* ===== Procedure blocks (Import / Export / Transit) ===== */
    .proc { padding: 28px 0 64px; border-top: 1px solid var(--line); }
    .proc-grid { display: grid; grid-template-columns: repeat(12, 1fr); gap: 16px; margin-top: 18px; }
    .proc-card {
      grid-column: span 4;
      border: 1px solid var(--line);
      border-radius: var(--radius);
      padding: 22px;
      background: #0d1013;
      transition: transform .15s ease, background .2s ease;
      position: relative;
      overflow: visible;
    }
    .proc-card:hover { transform: translateY(-2px); background: #101418; }
    .proc-head { display: flex; align-items: center; gap: 14px; margin-bottom: 12px; }
    .svg-ph { width: 48px; height: 48px; border-radius: 10px; background: linear-gradient(45deg, rgba(191,163,106,.22), rgba(191,163,106,.10)); box-shadow: inset 0 0 0 1px rgba(191,163,106,.35); flex: 0 0 48px; }
    .proc-title { font-weight: 600; font-size: 18px; letter-spacing: .01em; }

    /* ===== Stage (base) ===== */
    .anim { position: relative; display: flex; justify-content: center; align-items: center; padding: 10px 0 6px; }
    .stage {
      --w: 204px; --h: 128px; --pad: 16px;
      width: var(--w); height: var(--h);
      border: 2px solid color-mix(in srgb, var(--accent) 85%, transparent);
      border-radius: 14px;
      background: linear-gradient(180deg, rgba(191,163,106,.06), rgba(191,163,106,.02));
      position: relative;
      overflow: visible; /* важно: видны элементы снаружи */
    }
    .stage::after { /* центральная дорожка (визуальная вспомогательная) */
      content: ""; position: absolute; left: var(--pad); right: var(--pad);
      top: calc(var(--h)/2 - 1px); height: 2px;
      background: color-mix(in srgb, var(--accent) 24%, transparent);
      border-radius: 2px;
    }

    /* ===== Import: дополнительные дорожки для читаемости уровней ===== */
    .proc-card[data-proc="import"] .stage::before { /* верхняя линия */
      content: ""; position: absolute; left: var(--pad); right: var(--pad);
      top: 38px; height: 2px; background: color-mix(in srgb, var(--accent) 20%, transparent); border-radius: 2px;
    }
    .proc-card[data-proc="import"] .track-bottom { position: absolute; left: var(--pad); right: var(--pad); top: 88px; height: 2px; background: color-mix(in srgb, var(--accent) 20%, transparent); border-radius: 2px; }

    /* ===== Cargo shapes (контейнеры/коробки) ===== */
    .cargo { position: absolute; width: 14px; height: 10px; border-radius: 2px; background: var(--accent); box-shadow: inset 0 0 0 1px rgba(191,163,106,.45); }
    .cargo.container { width: 16px; height: 12px; }
    .cargo.container::after { content: ""; position: absolute; inset: 2px; border-top: 1px solid rgba(191,163,106,.45); border-bottom: 1px solid rgba(191,163,106,.35); }

    /* ===== EXPORT / TRANSIT (как было) ===== */
    .train { position: absolute; left: var(--pad); top: calc(var(--h)/2 - 11px); width: 58px; height: 18px; background: var(--accent); border-radius: 2px; box-shadow: inset 0 0 0 1px rgba(191,163,106,.45); transform: translateX(0); }
    .train::before, .train::after { content: ""; position: absolute; bottom: -4px; width: 8px; height: 8px; border-radius: 50%; background: #111418; box-shadow: 0 0 0 1px rgba(191,163,106,.5); }
    .train::before { left: 10px; } .train::after { right: 10px; }
    .cargo-train { left: calc(var(--pad) + 32px); top: calc(var(--h)/2 - 20px); opacity: 0; }
    @keyframes train-run { from { transform: translateX(0); } to { transform: translateX(calc(var(--w) - 56px + 32px)); } }
    @keyframes train-drop { 0%{ opacity:0; transform: translateX(0) translateY(0);} 35%{ opacity:0; transform: translateX(0) translateY(0);} 45%{ opacity:1; transform: translateX(12px) translateY(0);} 70%{ opacity:1; transform: translateX(14px) translateY(14px);} 100%{ opacity:1; transform: translateX(14px) translateY(14px);} }
    .proc-card[data-proc="export"]:is(:hover, .play) .train { animation: train-run 1.4s cubic-bezier(.3,.7,.2,1) forwards; }
    .proc-card[data-proc="export"]:is(:hover, .play) .cargo-train { animation: train-drop 1.2s ease .2s forwards; }

    .ship { position: absolute; left: var(--pad); top: calc(var(--h)/2 - 6px); width: 62px; height: 12px; background: var(--accent); border-radius: 0 8px 8px 8px; box-shadow: inset 0 0 0 1px rgba(191,163,106,.45); transform: translateX(-36px); }
    .ship::after { content: ""; position: absolute; right: -8px; top: 0; width: 0; height: 0; border-left: 8px solid var(--accent); border-top: 6px solid transparent; border-bottom: 6px solid transparent; }
    .ship::before { content: ""; position: absolute; left: 10px; top: -8px; width: 12px; height: 8px; background: var(--accent); border-radius: 2px; box-shadow: inset 0 0 0 1px rgba(191,163,106,.45); }
    .crane { position: absolute; left: calc(50% - 1px); top: calc(var(--h)/2 - 26px); width: 2px; height: 34px; background: color-mix(in srgb, var(--accent) 70%, transparent); opacity: 0; }
    .cargo-ship { left: calc(50% - 6px); top: calc(var(--h)/2 - 22px); opacity: 0; }
    @keyframes ship-move { 0%{ transform: translateX(-36px);} 35%{ transform: translateX(16px);} 65%{ transform: translateX(16px);} 100%{ transform: translateX(92px);} }
    @keyframes crane-on { 0%{opacity:0;} 40%{opacity:1;} 80%{opacity:1;} 100%{opacity:0;} }
    @keyframes ship-drop { 0%{ opacity:0; transform: translateY(-6px);} 40%{ opacity:1; transform: translateY(-6px);} 70%{ opacity:1; transform: translateY(12px);} 100%{ opacity:1; transform: translateY(12px);} }
    .proc-card[data-proc="transit"]:is(:hover, .play) .ship { animation: ship-move 1.6s cubic-bezier(.3,.7,.2,1) forwards; }
    .proc-card[data-proc="transit"]:is(:hover, .play) .crane { animation: crane-on 1.4s ease .2s forwards; }
    .proc-card[data-proc="transit"]:is(:hover, .play) .cargo-ship { animation: ship-drop 1.2s ease .3s forwards; }

    /* ======== IMPORT (SVG-иконы + вагоны, и остановка СНАРУЖИ квадрата) ======== */
    .veh { position: absolute; left: -96px; width: 96px; height: 28px; overflow: visible; transform: translateX(0); opacity: 1; }
    .veh * { vector-effect: non-scaling-stroke; }
    .veh path, .veh rect, .veh circle, .veh polyline, .veh line {
      stroke: color-mix(in srgb, var(--accent) 92%, white 0%);
      stroke-width: 1.6; stroke-linecap: round; stroke-linejoin: round; fill: none;
    }
    .veh .fill { fill: color-mix(in srgb, var(--accent) 85%, transparent); stroke: none; }

    /* Позиции по дорожкам относительно stage */
    .veh-train { top: 18px; }
    .veh-truck { top: calc(var(--h)/2 - 14px); }
    .veh-ship  { top: 84px; }

    /* Грузы внутри квадрата (точки приёма) */
    .cargo-top   { left: calc(var(--pad) + 20px); top: 16px; opacity: 0; }
    .cargo-mid   { left: calc(var(--pad) + 22px); top: calc(var(--h)/2 - 20px); opacity: 0; }
    .cargo-bot   { left: calc(50% - 8px); top: 66px; opacity: 0; }

    /* Анимации: подход к границе квадрата (не заезжаем внутрь) */
    @keyframes approach-a { from { transform: translateX(0);} to { transform: translateX(92px);} }
    @keyframes approach-b { from { transform: translateX(0);} to { transform: translateX(88px);} }
    @keyframes approach-c { from { transform: translateX(0);} to { transform: translateX(56px);} }
    @keyframes veh-fade    { from { opacity: 1;} to { opacity: 0;} }

    /* Анимации выгрузки (контейнеры входят в квадрат) */
    @keyframes cargo-in-x { 0%{ opacity:0; transform: translateX(-14px) translateY(0);} 60%{ opacity:1; transform: translateX(0) translateY(0);} 100%{ opacity:1; transform: translateX(10px) translateY(14px);} }
    @keyframes cargo-in-y { 0%{ opacity:0; transform: translateY(-8px);} 50%{ opacity:1; transform: translateY(-8px);} 100%{ opacity:1; transform: translateY(12px);} }

    /* Триггеры Import */
    .proc-card[data-proc="import"]:is(:hover, .play) .veh-train { animation: approach-a 1.05s cubic-bezier(.3,.7,.2,1) .00s forwards, veh-fade .4s ease 1.05s forwards; }
    .proc-card[data-proc="import"]:is(:hover, .play) .veh-truck { animation: approach-b 1.05s cubic-bezier(.3,.7,.2,1) .08s forwards, veh-fade .4s ease 1.13s forwards; }
    .proc-card[data-proc="import"]:is(:hover, .play) .veh-ship  { animation: approach-c 1.05s cubic-bezier(.3,.7,.2,1) .16s forwards, veh-fade .4s ease 1.21s forwards; }

    .proc-card[data-proc="import"]:is(:hover, .play) .cargo-top        { animation: cargo-in-x 1.0s ease .18s forwards; }
    .proc-card[data-proc="import"]:is(:hover, .play) .cargo-mid        { animation: cargo-in-x 1.0s ease .26s forwards; }
    .proc-card[data-proc="import"]:is(:hover, .play) .cargo-bot        { animation: cargo-in-y 1.0s ease .34s forwards; }

    /* Акцент внутри квадрата в момент приёма грузов */
    @keyframes pulse { 0%{ box-shadow: 0 0 0 0 rgba(191,163,106,0); } 50%{ box-shadow: 0 0 0 10px rgba(191,163,106,.16); } 100%{ box-shadow: 0 0 0 0 rgba(191,163,106,0); } }
    .proc-card[data-proc="import"]:is(:hover, .play) .stage { animation: pulse .45s ease .70s both; }

    /* ===== Email inline row (no reveal) ===== */
    .contact-card.mail{ position: relative; }
    .contact-row{ display: inline-flex; align-items: center; gap: 10px; margin-top: 4px; }
    #contactEmailMeta{ color: color-mix(in srgb, var(--muted) 72%, transparent); }

    /* Copy button (text-only, premium minimal) */
    .copy-btn{ appearance: none; background: transparent; border: 0; padding: 2px 6px; margin-left: 2px; border-radius: 999px; cursor: pointer; font-size: clamp(12px,1.3vw,14px); color: var(--muted); }
    .copy-btn:hover, .copy-btn:focus-visible{ text-decoration: underline; outline: none; color: var(--text); }
    .copy-btn[aria-pressed="true"]{ color: var(--accent); }

    /* Write button (text-only) */
    .write-btn{ appearance: none; background: transparent; border: 0; padding: 2px 6px; margin-left: 2px; border-radius: 999px; cursor: pointer; font-size: clamp(12px,1.3vw,14px); color: var(--muted); }
    .write-btn:hover, .write-btn:focus-visible{ text-decoration: underline; outline: none; color: var(--text); }

    /* ===== Footer (minimal) ===== */
    .site-footer { position: relative; margin-top: auto; padding: 6px 0; height: auto; }
    .site-footer::before{ content:""; position:absolute; inset: 0 auto auto 0; left:0; right:0; top:0; height:1px; background: linear-gradient(90deg, transparent, var(--line) 15%, color-mix(in srgb, var(--accent) 28%, var(--line) 72%) 50%, var(--line) 85%, transparent); }
    .footer-inner { display: flex; justify-content: center; align-items: center; min-height: 26px; font-size: 11px; line-height: 1.2; color: var(--muted); letter-spacing: .03em; gap: 8px; }
    .footer-brand{ color: inherit; border-bottom: 1px solid transparent; transition: color .2s ease, border-color .2s ease; }
    .footer-brand:hover{ color: var(--text); border-color: color-mix(in srgb, var(--accent) 38%, transparent); }
    .sep{ opacity:.5; margin: 0 6px; }

    /* ===== Responsive ===== */
    @media (max-width: 960px) { .proc-card { grid-column: span 6; } }
    @media (max-width: 720px) { .logo-box { width: 160px; height: 44px; font-size: 11px; } .proc-card { grid-column: span 12; } .contact-grid { gap: 10px; } }

    /* Reduced motion */
    @media (prefers-reduced-motion: reduce) { .proc-card { transition: none; } .veh, .cargo, .train, .ship, .crane { animation: none !important; } }
  </style>
</head>
<body>
  <main class="top">
    <div class="container">
      <!-- Место для лого (без хедера/меню) + переключатель языков -->
      <div class="logo-shelf">
        <div class="logo-box"><img src="GCC_LOGO_500x500_symb_wh-1.png" alt="GCC — логотип" decoding="async"/></div>
        <div class="lang-switch" role="group" aria-label="Выбор языка">
          <button type="button" data-lang="lv" aria-pressed="false">LV</button>
          <button type="button" data-lang="en" aria-pressed="false">EN</button>
          <button type="button" data-lang="ru" aria-pressed="true">RU</button>
        </div>
      </div>

      <!-- Герой-блок (минимализм) -->
      <section class="hero" aria-label="Вступительный блок">
        <h1 data-i18n="h1">Таможенный брокер</h1>
        <div class="typing" aria-live="polite" aria-label="Направления">
          <span id="typingText"></span><span class="caret" aria-hidden="true"></span>
        </div>
        <div class="typing secondary" aria-live="polite" aria-label="Подзаголовок">
          <span id="typingText2"></span><span class="caret" aria-hidden="true"></span>
        </div>
        </section>
    </div>

    <!-- Контакты: Почта / WhatsApp / Telegram / Телефон -->
    <section class="contact" id="contact" aria-label="Контакты">
      <div class="container">
        <div class="contact-grid">
          <!-- Email card -->
          <a class="contact-card mail" id="contactEmail" href="#">
            <div class="row-left">
              <svg class="mail-logo" viewBox="0 0 24 24" role="img" aria-hidden="true">
                <rect x="3" y="5" width="18" height="14" rx="2" ry="2" fill="none" stroke="currentColor" stroke-width="1.6"/>
                <path d="M3.5 7.5 L12 12.5 L20.5 7.5" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              <span class="contact-meta" id="contactEmailMeta">office@gcclog.com</span>
            </div>
            <div class="row-right">
              <button class="copy-btn" id="copyEmailBtn" type="button" aria-pressed="false" aria-live="polite">Скопировать</button>
            </div>
          </a>
          <!-- Telegram card -->
          <a class="contact-card" id="contactTelegram" href="#" target="_blank" rel="noopener" aria-label="Telegram">
            <div class="row-left">
              <svg class="tg-logo" viewBox="0 0 24 24" role="img" aria-hidden="true">
                <path d="M21.5 3.5L3.1 10.8c-.8.3-.8 1.5.02 1.8l4.7 1.6 1.8 4.9c.2.6 1 .7 1.4.3l2.6-2.7 4.7 3.5c.6.5 1.6.1 1.8-.7l2-14.2c.1-.8-.7-1.4-1.4-1.1zM8 12.6l9.7-5.9-7.5 7-.4 2.8 1.4-1.5 4 3" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              <span class="contact-meta" id="telegramHandleMeta">@yourtelegram</span>
            </div>
            <div class="row-right">
              <button class="copy-btn" id="copyTelegramBtn" type="button" aria-pressed="false" aria-live="polite">Скопировать</button>
              <button class="write-btn" id="writeTelegramBtn" type="button">Написать</button>
            </div>
            <span class="sr-only" data-i18n="contact_telegram">Telegram</span>
          </a>
        </div>
      </div>
    </section>

    <!-- Блоки процедур: Импорт / Экспорт / Транзит -->
    </main>

  <footer class="site-footer" id="footer">
  <div class="container footer-inner">
    <span>© <span id="year"></span><span class="sep" aria-hidden="true">•</span><a data-i18n="company" href="#" class="footer-brand">Ваша Компания</a></span>
  </div>
</footer>

  <script type="module">
    // ===== Settings =====
    const DEFAULT_LANG = 'ru';
    const COMPANY_EMAIL = 'office@gcclog.com';
    const TELEGRAM_USERNAME = 'yourtelegram'; // ← set without @

    // UI texts
    const t = {
      ru: { h1: 'Таможенный брокер', copy: 'Скопировать', copied: 'Скопировано', write: 'Написать', company: 'GCC', subject: 'Запрос: таможенное оформление (B2B)', body: 'Здравствуйте! Нужна помощь таможенного брокера. Кратко: ...' },
      en: { h1: 'Customs clearance', copy: 'Copy', copied: 'Copied', write: 'Write', company: 'GCC', subject: 'Inquiry: customs clearance (B2B)', body: 'Hello! We need customs brokerage support. Briefly: ...' },
      lv: { h1: 'Muitas noformēšana', copy: 'Kopēt', copied: 'Nokopēts', write: 'Rakstīt', company: 'GCC', subject: 'Pieprasījums: muitas noformēšana (B2B)', body: 'Labdien! Nepieciešams muitas brokera atbalsts. Īsumā: ...' }
    };

    // Typing phrases (print once)
    const typingPhrase = {
      ru: 'Экспортные, Транзитные, Импортные процедуры',
      en: 'Export, Transit, Import procedures',
      lv: 'Eksporta, Tranzīta, Importa procedūras'
    };
    const typingPhrase2 = {
      ru: 'Сопровождение международных сделок и логистики',
      en: 'Support for international transactions and logistics',
      lv: 'Starptautisko darījumu un loģistikas atbalsts'
    };

    // typing speeds (slightly faster)
    const TYPE_SPEED_MAIN = 60; // ms per character
    const TYPE_SPEED_SUB  = 60; // ms per character

    // ===== DOM =====
    const langButtons = document.querySelectorAll('.lang-switch button');
    const contactEmail = document.getElementById('contactEmail');
    const contactEmailMeta = document.getElementById('contactEmailMeta');
    const contactTelegram = document.getElementById('contactTelegram');
    const copyEmailBtn = document.getElementById('copyEmailBtn');
    const copyTelegramBtn = document.getElementById('copyTelegramBtn');
    const writeTelegramBtn = document.getElementById('writeTelegramBtn');
    const telegramHandleMeta = document.getElementById('telegramHandleMeta');
    const typingText = document.getElementById('typingText');
    const typingText2 = document.getElementById('typingText2');

    let currentLang = DEFAULT_LANG;
    let currentHandle = '';

    // ===== Typing effect (print once) =====
    let typingTimer = null, typingPhraseNow = '', typingIndex = 0;
    let typingTimer2 = null, typingPhrase2Now = '', typingIndex2 = 0;

    function startTyping(lang){
      if (!typingText) return;
      if (typingTimer) { clearTimeout(typingTimer); typingTimer = null; }
      typingPhraseNow = (typingPhrase[lang] || typingPhrase[DEFAULT_LANG] || '').trim();
      typingIndex = 0;
      typingText.textContent = '';
      const tEl = document.querySelector('.typing');
      if (tEl) tEl.classList.remove('done');
      typingStep();
    }

    function typingStep(){
      if (!typingText || !typingPhraseNow) return;
      if (typingIndex < typingPhraseNow.length){
        typingText.textContent = typingPhraseNow.substring(0, typingIndex + 1);
        typingIndex++;
        typingTimer = setTimeout(typingStep, TYPE_SPEED_MAIN);
      } else {
        const tEl = document.querySelector('.typing');
        if (tEl) tEl.classList.add('done');
        // start second line only after the first has fully printed
        startTyping2(currentLang);
      }
    }

    // second typing line (prints once)
    function startTyping2(lang){
      if (!typingText2) return;
      if (typingTimer2) { clearTimeout(typingTimer2); typingTimer2 = null; }
      typingPhrase2Now = (typingPhrase2[lang] || typingPhrase2[DEFAULT_LANG] || '').trim();
      typingIndex2 = 0;
      typingText2.textContent = '';
      const tEl2 = document.querySelector('.typing.secondary');
      if (tEl2) tEl2.classList.remove('done');
      typingStep2();
    }

    function typingStep2(){
      if (!typingText2 || !typingPhrase2Now) return;
      if (typingIndex2 < typingPhrase2Now.length){
        typingText2.textContent = typingPhrase2Now.substring(0, typingIndex2 + 1);
        typingIndex2++;
        typingTimer2 = setTimeout(typingStep2, TYPE_SPEED_SUB);
      } else {
        const tEl2 = document.querySelector('.typing.secondary');
        if (tEl2) tEl2.classList.add('done');
      }
    }

    // ===== Contacts =====
    function updateContacts(lang) {
      const subject = t[lang].subject; const body = t[lang].body;
      const mailto = `mailto:${encodeURIComponent(COMPANY_EMAIL)}?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;
      if (contactEmail) contactEmail.href = mailto;
      if (contactEmailMeta) contactEmailMeta.textContent = COMPANY_EMAIL;
      const handle = String(TELEGRAM_USERNAME||'').replace(/^@/, '');
      currentHandle = handle;
      if (contactTelegram) contactTelegram.href = handle ? `https://t.me/${handle}` : '#';
      if (telegramHandleMeta) telegramHandleMeta.textContent = handle ? `@${handle}` : '@username';
    }

    // ===== Language =====
    function setLang(lang) {
      const dict = t[lang] || t[DEFAULT_LANG];
      currentLang = lang;
      document.documentElement.lang = lang;
      document.querySelectorAll('[data-i18n]').forEach(el => {
        const key = el.getAttribute('data-i18n');
        if (dict[key]) el.textContent = dict[key];
      });
      updateContacts(lang);
      // reset typing state for both lines
      if (typingTimer) { clearTimeout(typingTimer); typingTimer = null; }
      if (typingTimer2) { clearTimeout(typingTimer2); typingTimer2 = null; }
      if (typingText)  { typingText.textContent = ''; const el = document.querySelector('.typing'); if (el) el.classList.remove('done'); }
      if (typingText2) { typingText2.textContent = ''; const el2 = document.querySelector('.typing.secondary'); if (el2) el2.classList.remove('done'); }
      startTyping(lang);

      if (copyEmailBtn) { copyEmailBtn.textContent = t[lang].copy; copyEmailBtn.setAttribute('aria-pressed','false'); }
      if (copyTelegramBtn) { copyTelegramBtn.textContent = t[lang].copy; copyTelegramBtn.setAttribute('aria-pressed','false'); }
      if (writeTelegramBtn) { writeTelegramBtn.textContent = t[lang].write; }
      langButtons.forEach(btn => btn.setAttribute('aria-pressed', String(btn.dataset.lang === lang)));
      localStorage.setItem('lang', lang);
    }

    // init
    langButtons.forEach(btn => btn.addEventListener('click', () => setLang(btn.dataset.lang)));
    const yearEl = document.getElementById('year'); if (yearEl) yearEl.textContent = new Date().getFullYear();
    const saved = localStorage.getItem('lang'); setLang(saved || DEFAULT_LANG);

    // ===== Copy helpers =====
    async function copyToClipboard(btn, text){
      try {
        if (navigator.clipboard && window.isSecureContext) {
          await navigator.clipboard.writeText(text);
        } else {
          const ta = document.createElement('textarea');
          ta.value = text; ta.style.position='fixed'; ta.style.opacity='0';
          document.body.appendChild(ta); ta.select(); document.execCommand('copy'); ta.remove();
        }
        if (btn) {
          btn.setAttribute('aria-pressed','true');
          const prev = btn.textContent; btn.textContent = t[currentLang].copied;
          setTimeout(()=>{ btn.setAttribute('aria-pressed','false'); btn.textContent = prev || t[currentLang].copy; }, 2000);
        }
      } catch(e) { /* no-op */ }
    }

    copyEmailBtn?.addEventListener('click', (e)=>{ e.preventDefault(); e.stopPropagation(); copyToClipboard(copyEmailBtn, COMPANY_EMAIL); });
    copyTelegramBtn?.addEventListener('click', (e)=>{ e.preventDefault(); e.stopPropagation(); const text = currentHandle ? `@${currentHandle}` : '@username'; copyToClipboard(copyTelegramBtn, text); });
    writeTelegramBtn?.addEventListener('click', (e)=>{ e.preventDefault(); e.stopPropagation(); const url = contactTelegram.href || '#'; if (url && url !== '#') window.open(url, '_blank', 'noopener'); });
  </script>
  <noscript>Для корректной работы переключения языков и контактов включите JavaScript.</noscript>
</body>
</html>
